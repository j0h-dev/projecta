enum ProjectRole {
  PROJECT_MANAGER
  MEMBER
  VIEWER
}

model Project {
  id             String          @id @default(uuid())
  organization   Organization?   @relation(fields: [organizationId], references: [id])
  organizationId String?
  name           String
  description    String?
  createdAt      DateTime        @default(now())
  updatedAt      DateTime        @default(now())
  members        ProjectMember[]

  @@map("projects")
}

model ProjectMember {
  id        String      @id @default(uuid())
  project   Project     @relation(fields: [projectId], references: [id])
  projectId String
  user      User        @relation(fields: [userId], references: [id])
  userId    String
  role      ProjectRole @default(MEMBER)
  addedAt   DateTime    @default(now())

  @@unique([projectId, userId])
  @@map("project_members")
}
