model Organization {
  id        String               @id @default(uuid())
  name      String
  createdAt DateTime             @default(now())
  members   OrganizationMember[]
  projects  Project[]

  @@map("organizations")
}

model OrganizationMember {
  id             String                 @id @default(uuid())
  organization   Organization           @relation(fields: [organizationId], references: [id])
  organizationId String
  user           User                   @relation(fields: [userId], references: [id])
  userId         String
  role           OrganizationMemberRole @default(MEMBER)
  joinedAt       DateTime               @default(now())

  @@unique([organizationId, userId])
  @@map("organization-member")
}

enum OrganizationMemberRole {
  ADMIN
  MEMBER
}
